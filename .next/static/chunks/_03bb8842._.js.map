{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Waybeyond/Wedding%20Photos/Nextjs_boilerplate/src/app/event/%5BeventName%5D/page.js"],"sourcesContent":["\"use client\";\r\nimport { useParams } from 'next/navigation';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function EventPage() {\r\n  const params = useParams();\r\n  const eventName = params?.eventName;\r\n\r\n  const [eventDetails, setEventDetails] = useState(null);\r\n  const [selectedSubEvent, setSelectedSubEvent] = useState(null);\r\n  const [selectedFiles, setSelectedFiles] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [newSubEventName, setNewSubEventName] = useState('');\r\n  const [photos, setPhotos] = useState([]);\r\n  const [selectedTab, setSelectedTab] = useState('all');\r\n\r\n  useEffect(() => {\r\n    fetchEventDetails();\r\n  }, [eventName]);\r\n\r\n  const fetchEventDetails = () => {\r\n    if (eventName) {\r\n      fetch(`http://localhost:5000/api/get-event-details/${eventName}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          setEventDetails(data);\r\n          setLoading(false);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching event details:', error);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const fetchPhotos = () => {\r\n    if (eventName && selectedSubEvent) {\r\n      fetch(`http://localhost:5000/api/get-photos/${eventName}/${selectedSubEvent}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if (data.photos) {\r\n            setPhotos(data.photos);\r\n          } else {\r\n            setPhotos([]);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching photos:', error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const fetchPeoplePhotos = () => {\r\n    if (eventName && selectedSubEvent) {\r\n      fetch(`http://localhost:5000/api/get-photos/${eventName}/${selectedSubEvent}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if (data.photos) {\r\n            setPhotos(data.photos);\r\n          } else {\r\n            setPhotos([]);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching people photos:', error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setSelectedFiles(e.target.files);\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!selectedSubEvent || !selectedFiles || selectedFiles.length === 0) {\r\n      alert('Please select a sub-event and choose photos.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('eventName', eventName);\r\n    formData.append('subEventName', selectedSubEvent);\r\n    for (let i = 0; i < selectedFiles.length; i++) {\r\n      formData.append('photos', selectedFiles[i]);\r\n    }\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:5000/api/upload-photos', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n      const data = await res.json();\r\n      alert('Photos uploaded successfully!');\r\n      fetchPhotos();\r\n      console.log('Upload response:', data);\r\n    } catch (error) {\r\n      console.error('Error uploading photos:', error);\r\n      alert('Failed to upload photos.');\r\n    }\r\n  };\r\n\r\n  const handleCreateSubEvent = async () => {\r\n    if (!newSubEventName.trim()) {\r\n      alert('Please enter a sub-event name.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:5000/api/create-sub-event', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          eventName: eventName,\r\n          subEventName: newSubEventName,\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n      console.log('Sub-event created:', data);\r\n\r\n      if (res.ok) {\r\n        alert('Sub-event created successfully!');\r\n        setShowModal(false);\r\n        setNewSubEventName('');\r\n        fetchEventDetails();\r\n      } else {\r\n        alert('Failed to create sub-event.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating sub-event:', error);\r\n      alert('Failed to create sub-event.');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectedSubEvent) {\r\n      if (selectedTab === 'all') {\r\n        fetchPhotos();\r\n      } else if (selectedTab === 'people') {\r\n        fetchPeoplePhotos();\r\n      }\r\n    }\r\n  }, [selectedSubEvent, selectedTab]);\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (!eventDetails) return <div>No Event Details Found</div>;\r\n\r\n  return (\r\n    <div style={{ display: 'flex', height: '100vh' }}>\r\n      {/* Left Side Panel */}\r\n      <div style={{ width: '250px', background: '#f0f0f0', padding: '20px' }}>\r\n        <h2>Sub Events</h2>\r\n        <ul style={{ listStyle: 'none', padding: 0 }}>\r\n          {eventDetails.subEvents.map((sub, index) => (\r\n            <li\r\n              key={index}\r\n              onClick={() => {\r\n                setSelectedSubEvent(sub);\r\n                setSelectedFiles(null);\r\n              }}\r\n              style={{\r\n                padding: '10px',\r\n                marginBottom: '10px',\r\n                cursor: 'pointer',\r\n                backgroundColor: selectedSubEvent === sub ? '#ddd' : '#fff',\r\n                borderRadius: '5px',\r\n                fontWeight: selectedSubEvent === sub ? 'bold' : 'normal',\r\n              }}\r\n            >\r\n              {sub}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <button\r\n          style={{\r\n            marginTop: '20px',\r\n            padding: '10px',\r\n            width: '100%',\r\n            backgroundColor: '#0070f3',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '5px',\r\n            cursor: 'pointer'\r\n          }}\r\n          onClick={() => setShowModal(true)}\r\n        >\r\n          + Add Sub-Event\r\n        </button>\r\n      </div>\r\n\r\n      {/* Right Main Panel */}\r\n      <div style={{ flex: 1, padding: '20px' }}>\r\n        <h1>Event: {eventName}</h1>\r\n        {selectedSubEvent && (\r\n          <>\r\n            <h2>Sub Event: {selectedSubEvent}</h2>\r\n\r\n            {/* Tabs */}\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <button\r\n                onClick={() => setSelectedTab('all')}\r\n                style={{\r\n                  marginRight: '10px',\r\n                  padding: '8px 16px',\r\n                  backgroundColor: selectedTab === 'all' ? '#0070f3' : '#eee',\r\n                  color: selectedTab === 'all' ? 'white' : 'black',\r\n                  border: 'none',\r\n                  borderRadius: '5px'\r\n                }}\r\n              >\r\n                All Photos\r\n              </button>\r\n              <button\r\n                onClick={() => setSelectedTab('people')}\r\n                style={{\r\n                  padding: '8px 16px',\r\n                  backgroundColor: selectedTab === 'people' ? '#0070f3' : '#eee',\r\n                  color: selectedTab === 'people' ? 'white' : 'black',\r\n                  border: 'none',\r\n                  borderRadius: '5px'\r\n                }}\r\n              >\r\n                People Photos\r\n              </button>\r\n            </div>\r\n\r\n            {/* File Upload */}\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <input type=\"file\" multiple onChange={handleFileChange} />\r\n              <button\r\n                onClick={handleUpload}\r\n                style={{\r\n                  marginLeft: '10px',\r\n                  padding: '8px 16px',\r\n                  backgroundColor: '#28a745',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '5px',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                Upload Photos\r\n              </button>\r\n            </div>\r\n\r\n            {/* Photo Gallery */}\r\n            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '10px' }}>\r\n              {photos.length > 0 ? (\r\n                photos.map((photoUrl, idx) => (\r\n                  <img\r\n                    key={idx}\r\n                    src={photoUrl}\r\n                    alt={`Photo ${idx}`}\r\n                    style={{ width: '150px', height: '150px', objectFit: 'cover', borderRadius: '8px' }}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <p>No photos found for this sub-event.</p>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal for Sub-event creation */}\r\n      {showModal && (\r\n        <div style={{\r\n          position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)', display: 'flex',\r\n          justifyContent: 'center', alignItems: 'center'\r\n        }}>\r\n          <div style={{ background: 'white', padding: '20px', borderRadius: '10px', width: '300px' }}>\r\n            <h3>Create New Sub-Event</h3>\r\n            <input\r\n              type=\"text\"\r\n              value={newSubEventName}\r\n              onChange={(e) => setNewSubEventName(e.target.value)}\r\n              placeholder=\"Sub-event name\"\r\n              style={{ width: '100%', padding: '8px', marginBottom: '10px' }}\r\n            />\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <button onClick={handleCreateSubEvent} style={{\r\n                padding: '8px 12px',\r\n                backgroundColor: '#0070f3',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '5px',\r\n              }}>\r\n                Create\r\n              </button>\r\n              <button onClick={() => setShowModal(false)} style={{\r\n                padding: '8px 12px',\r\n                backgroundColor: '#ccc',\r\n                border: 'none',\r\n                borderRadius: '5px',\r\n              }}>\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AAIe,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,YAAY,QAAQ;IAE1B,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR;QACF;8BAAG;QAAC;KAAU;IAEd,MAAM,oBAAoB;QACxB,IAAI,WAAW;YACb,MAAM,CAAC,4CAA4C,EAAE,WAAW,EAC7D,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA;gBACJ,gBAAgB;gBAChB,WAAW;YACb,GACC,KAAK,CAAC,CAAA;gBACL,QAAQ,KAAK,CAAC,iCAAiC;gBAC/C,WAAW;YACb;QACJ;IACF;IAEA,MAAM,cAAc;QAClB,IAAI,aAAa,kBAAkB;YACjC,MAAM,CAAC,qCAAqC,EAAE,UAAU,CAAC,EAAE,kBAAkB,EAC1E,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA;gBACJ,IAAI,KAAK,MAAM,EAAE;oBACf,UAAU,KAAK,MAAM;gBACvB,OAAO;oBACL,UAAU,EAAE;gBACd;YACF,GACC,KAAK,CAAC,CAAA;gBACL,QAAQ,KAAK,CAAC,0BAA0B;YAC1C;QACJ;IACF;IAEA,MAAM,oBAAoB;QACxB,IAAI,aAAa,kBAAkB;YACjC,MAAM,CAAC,qCAAqC,EAAE,UAAU,CAAC,EAAE,kBAAkB,EAC1E,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA;gBACJ,IAAI,KAAK,MAAM,EAAE;oBACf,UAAU,KAAK,MAAM;gBACvB,OAAO;oBACL,UAAU,EAAE;gBACd;YACF,GACC,KAAK,CAAC,CAAA;gBACL,QAAQ,KAAK,CAAC,iCAAiC;YACjD;QACJ;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,iBAAiB,EAAE,MAAM,CAAC,KAAK;IACjC;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,cAAc,MAAM,KAAK,GAAG;YACrE,MAAM;YACN;QACF;QAEA,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,aAAa;QAC7B,SAAS,MAAM,CAAC,gBAAgB;QAChC,IAAK,IAAI,IAAI,GAAG,IAAI,cAAc,MAAM,EAAE,IAAK;YAC7C,SAAS,MAAM,CAAC,UAAU,aAAa,CAAC,EAAE;QAC5C;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,2CAA2C;gBACjE,QAAQ;gBACR,MAAM;YACR;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM;YACN;YACA,QAAQ,GAAG,CAAC,oBAAoB;QAClC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM;QACR;IACF;IAEA,MAAM,uBAAuB;QAC3B,IAAI,CAAC,gBAAgB,IAAI,IAAI;YAC3B,MAAM;YACN;QACF;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,8CAA8C;gBACpE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,WAAW;oBACX,cAAc;gBAChB;YACF;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,QAAQ,GAAG,CAAC,sBAAsB;YAElC,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM;gBACN,aAAa;gBACb,mBAAmB;gBACnB;YACF,OAAO;gBACL,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,MAAM;QACR;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,IAAI,kBAAkB;gBACpB,IAAI,gBAAgB,OAAO;oBACzB;gBACF,OAAO,IAAI,gBAAgB,UAAU;oBACnC;gBACF;YACF;QACF;8BAAG;QAAC;QAAkB;KAAY;IAElC,IAAI,SAAS,qBAAO,6LAAC;kBAAI;;;;;;IACzB,IAAI,CAAC,cAAc,qBAAO,6LAAC;kBAAI;;;;;;IAE/B,qBACE,6LAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,QAAQ;QAAQ;;0BAE7C,6LAAC;gBAAI,OAAO;oBAAE,OAAO;oBAAS,YAAY;oBAAW,SAAS;gBAAO;;kCACnE,6LAAC;kCAAG;;;;;;kCACJ,6LAAC;wBAAG,OAAO;4BAAE,WAAW;4BAAQ,SAAS;wBAAE;kCACxC,aAAa,SAAS,CAAC,GAAG,CAAC,CAAC,KAAK,sBAChC,6LAAC;gCAEC,SAAS;oCACP,oBAAoB;oCACpB,iBAAiB;gCACnB;gCACA,OAAO;oCACL,SAAS;oCACT,cAAc;oCACd,QAAQ;oCACR,iBAAiB,qBAAqB,MAAM,SAAS;oCACrD,cAAc;oCACd,YAAY,qBAAqB,MAAM,SAAS;gCAClD;0CAEC;+BAdI;;;;;;;;;;kCAkBX,6LAAC;wBACC,OAAO;4BACL,WAAW;4BACX,SAAS;4BACT,OAAO;4BACP,iBAAiB;4BACjB,OAAO;4BACP,QAAQ;4BACR,cAAc;4BACd,QAAQ;wBACV;wBACA,SAAS,IAAM,aAAa;kCAC7B;;;;;;;;;;;;0BAMH,6LAAC;gBAAI,OAAO;oBAAE,MAAM;oBAAG,SAAS;gBAAO;;kCACrC,6LAAC;;4BAAG;4BAAQ;;;;;;;oBACX,kCACC;;0CACE,6LAAC;;oCAAG;oCAAY;;;;;;;0CAGhB,6LAAC;gCAAI,OAAO;oCAAE,cAAc;gCAAO;;kDACjC,6LAAC;wCACC,SAAS,IAAM,eAAe;wCAC9B,OAAO;4CACL,aAAa;4CACb,SAAS;4CACT,iBAAiB,gBAAgB,QAAQ,YAAY;4CACrD,OAAO,gBAAgB,QAAQ,UAAU;4CACzC,QAAQ;4CACR,cAAc;wCAChB;kDACD;;;;;;kDAGD,6LAAC;wCACC,SAAS,IAAM,eAAe;wCAC9B,OAAO;4CACL,SAAS;4CACT,iBAAiB,gBAAgB,WAAW,YAAY;4CACxD,OAAO,gBAAgB,WAAW,UAAU;4CAC5C,QAAQ;4CACR,cAAc;wCAChB;kDACD;;;;;;;;;;;;0CAMH,6LAAC;gCAAI,OAAO;oCAAE,cAAc;gCAAO;;kDACjC,6LAAC;wCAAM,MAAK;wCAAO,QAAQ;wCAAC,UAAU;;;;;;kDACtC,6LAAC;wCACC,SAAS;wCACT,OAAO;4CACL,YAAY;4CACZ,SAAS;4CACT,iBAAiB;4CACjB,OAAO;4CACP,QAAQ;4CACR,cAAc;4CACd,QAAQ;wCACV;kDACD;;;;;;;;;;;;0CAMH,6LAAC;gCAAI,OAAO;oCAAE,SAAS;oCAAQ,UAAU;oCAAQ,KAAK;gCAAO;0CAC1D,OAAO,MAAM,GAAG,IACf,OAAO,GAAG,CAAC,CAAC,UAAU,oBACpB,6LAAC;wCAEC,KAAK;wCACL,KAAK,CAAC,MAAM,EAAE,KAAK;wCACnB,OAAO;4CAAE,OAAO;4CAAS,QAAQ;4CAAS,WAAW;4CAAS,cAAc;wCAAM;uCAH7E;;;;8DAOT,6LAAC;8CAAE;;;;;;;;;;;;;;;;;;;YAQZ,2BACC,6LAAC;gBAAI,OAAO;oBACV,UAAU;oBAAS,KAAK;oBAAG,MAAM;oBAAG,OAAO;oBAAG,QAAQ;oBACtD,iBAAiB;oBAAsB,SAAS;oBAChD,gBAAgB;oBAAU,YAAY;gBACxC;0BACE,cAAA,6LAAC;oBAAI,OAAO;wBAAE,YAAY;wBAAS,SAAS;wBAAQ,cAAc;wBAAQ,OAAO;oBAAQ;;sCACvF,6LAAC;sCAAG;;;;;;sCACJ,6LAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;4BAClD,aAAY;4BACZ,OAAO;gCAAE,OAAO;gCAAQ,SAAS;gCAAO,cAAc;4BAAO;;;;;;sCAE/D,6LAAC;4BAAI,OAAO;gCAAE,SAAS;gCAAQ,gBAAgB;4BAAgB;;8CAC7D,6LAAC;oCAAO,SAAS;oCAAsB,OAAO;wCAC5C,SAAS;wCACT,iBAAiB;wCACjB,OAAO;wCACP,QAAQ;wCACR,cAAc;oCAChB;8CAAG;;;;;;8CAGH,6LAAC;oCAAO,SAAS,IAAM,aAAa;oCAAQ,OAAO;wCACjD,SAAS;wCACT,iBAAiB;wCACjB,QAAQ;wCACR,cAAc;oCAChB;8CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASjB;GA9SwB;;QACP,qIAAA,CAAA,YAAS;;;KADF","debugId":null}},
    {"offset": {"line": 497, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Waybeyond/Wedding%20Photos/Nextjs_boilerplate/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}